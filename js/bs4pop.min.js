(function(){let t={};t.dialog=function(t){let e=""!==(t=$.extend(!0,{id:"",title:"",content:"",className:"",width:500,height:"",target:"body",closeBtn:!0,hideRemove:!0,escape:!0,autoFocus:!0,show:!0,backdrop:!0,btns:[],drag:!0,onShowStart(){},onShowEnd(){},onHideStart(){},onHideEnd(){},onClose(){},onDragStart(){},onDragEnd(){},onDrag(){}},t)).id?$("#"+t.id):void 0;e&&e.length||(e=$(`\n\t\t\t\t<div class="modal fade" tabindex="-1" role="dialog" data-backdrop="${t.backdrop}">\n\t\t\t\t\t<div class="modal-dialog ">\n\t\t\t\t\t\t<div class="modal-content">\n\t\t\t\t\t\t\t<div class="modal-body"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`));let o=e.find(".modal-body");if(t.closeBtn||t.title){let e=$('<div class="modal-header"></div>');t.title&&e.append(`<h5 class="modal-title"> ${t.title} </h5>`),t.closeBtn&&e.append('\n\t\t\t\t\t<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>\n\t\t\t\t'),o.before(e)}if(t.btns.length){let n=$('<div class="modal-footer"></div>');t.btns.forEach(t=>{t=$.extend(!0,{label:"Button",className:"btn-primary",onClick(t){}},t);let o=$('<button type="button" class="btn '+t.className+' pl-5 pr-5">'+t.label+"</button>");o.on("click",o=>{o.hide=()=>{e.modal("hide")},!1!==t.onClick(o)&&e.modal("hide")}),n.append(o)}),o.after(n)}return"string"==typeof t.content?o.html(t.content):"object"==typeof t.content&&(o.empty(),$(t.content).contents().appendTo(o)),t.id&&e.attr("id",t.id),t.className&&e.addClass(t.className),t.width&&e.find(".modal-dialog").width(t.width).css("max-width",t.width),t.height&&e.find(".modal-dialog").height(t.height),t.isCenter&&e.find(".modal-dialog").addClass("modal-dialog-centered"),t.hideRemove&&e.on("hidden.bs.modal",(function(){e.modal("dispose").remove()})),e.on("show.bs.modal",t.onShowStart),e.on("shown.bs.modal",t.onShowEnd),e.on("hide.bs.modal",t.onHideStart),e.on("hidden.bs.modal",t.onHideEnd),t.closeBtn&&e.find(".close").on("click",(function(){return console.log("close"),t.onClose()})),t.drag&&(e.attr("data-drag","drag"),function(t){(t=$.extend(!0,{el:"",handle:"",onDragStart(){},onDraging(){},onDragEnd(){}},t)).el=$(t.el),t.handle=$(t.handle);let e=$(document),o=!0;$(t.handle).on("touchstart mousedown",n=>{let a=n;"touchstart"===n.type&&(a=n.touches[0]);let d={pageX:a.pageX,pageY:a.pageY,targetPageX:t.el.offset().left,targetPageY:t.el.offset().top},l=e=>{let n=e;"touchmove"===e.type&&(n=e.touches[0]);n.pageX,n.pageY;let a=n.pageX-d.pageX,l=n.pageY-d.pageY;o?(t.onDragStart(d),o=!1):t.onDraging(),t.el.css({left:d.targetPageX+a,top:d.targetPageY+l})},i=()=>{e.off("touchmove mousemove",l),e.off("touchend mouseup",i),t.onDragEnd()};e.on("touchmove mousemove",l).on("touchend mouseup",i)})}({el:e.find(".modal-content"),handle:e.find(".modal-header"),onDragStart(){e.attr("data-drag","draged"),t.onDragStart()},onDragEnd(){t.onDragEnd()},onDraging(){t.onDrag()}})),$(t.target).append(e),e.modal({backdrop:t.backdrop,keyboard:t.escape,focus:t.autoFocus,show:t.show}),{$el:e,show(){e.modal("show")},hide(){e.modal("hide")},toggle(){e.modal("toggle")},destory(){e.modal("dispose")}}},t.removeAll=function(){$('[role="dialog"],.modal-backdrop').remove()},t.alert=function(e,o,n){let a=$.extend(!0,{title:"Dialog",content:e,hideRemove:!0,width:500,btns:[{label:"Okay",onClick(){if(o)return o()}}]},n);return t.dialog(a)},t.confirm=function(t,e,o){let n=$.extend(!0,{title:"Confirm Dialog",content:t,hideRemove:!0,btns:[{label:"Okay",onClick(){if(e)return e(!0)}},{label:"Cancel",className:"btn-secondary",onClick(){if(e)return e(!1)}}]},o);return this.dialog(n)},t.prompt=function(e,o,n,a){let d=$(`\n\t\t\t<div>\n\t\t\t\t<p>${e}</p>\n\t\t\t\t<input type="text" class="form-control" value="${o}"/>\n\t\t\t</div>\n\t\t`),l=d.find("input"),i=$.extend(!0,{title:"Prompt Dialog",content:d,hideRemove:!0,width:500,btns:[{label:"Okay",onClick(){if(n)return n(!0,l.val())}},{label:"Cancel",className:"btn-secondary",onClick(){if(n)return n(!1,l.val())}}]},a);return t.dialog(i)},t.notice=function(t,e){e=$.extend(!0,{type:"primary",position:"topcenter",appendType:"append",closeBtn:!1,autoClose:2e3,className:""},e);let o=$("#alert-container-"+e.position);o.length||(o=$('<div id="alert-container-'+e.position+'" class="alert-container"></div>'),$("body").append(o));let n=$(`\n\t\t\t<div class="alert fade alert-${e.type}" role="alert">${t}</div>\n\t\t`);if(e.autoClose&&n.append('\n\t\t\t\t\t<button type="button" class="close" data-dismiss="alert" aria-label="Close">\n\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t</button>\n\t\t\t\t').addClass("alert-dismissible"),e.autoClose){setTimeout(()=>{n.alert("close")},e.autoClose)}"append"===e.appendType?o.append(n):o.prepend(n),setTimeout(()=>{n.addClass("show")},50)},"undefined"!=typeof module&&"object"==typeof exports?module.exports=t:"function"==typeof define&&(define.amd||define.cmd)?define((function(){return t})):this.bs4pop=t}).call(this||("undefined"!=typeof window?window:global));